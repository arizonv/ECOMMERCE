<style>
    .card {
        border: 1px solid #ccc;
        border-radius: 4px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin-right: 35px;
    }
</style>
<div class="card">
    <div class="card-body">
        <h5 class="card-title text-center">CARRITO</h5>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th scope="col">NOMBRE</th>
                        <th scope="col">PRECIO UNI. / Stock</th>
                        <th scope="col">CANTIDAD</th>
                        <th scope="col">TOTAL</th>
                    </tr>
                </thead>
                <tbody>
                    {% if request.session.carrito %}
                    {% for key, value in request.session.carrito.items %}
                    <tr>
                        <td class="text-center">{{ value.nombre }}</td>
                        <td class="text-center">${{ value.precio_uni }} / {{ value.stock }}</td>
                        <td class="text-center">{{ value.cantidad }}</td>
                        <td>${{ value.acumulado|floatformat:0}}
                            <a href="{% url 'shopping:Add' value.producto_id %}" class="badge btn btn-dark">+</a>
                            <a href="{% url 'shopping:Sub' value.producto_id %}" class="badge btn btn-dark">-</a>
                        </td>
                    </tr>
                    <tr>

                    </tr>
                    {% endfor %}
                    {% else %}
                    <tr>
                        <td colspan="4">
                            <div class="alert alert-danger text-center">Sin Productos</div>
                        </td>
                    </tr>
                    {% endif %}
                    <tr>
                        <th scope="row">Total:</th>
                        <td colspan="3">
                            ${{ total_carrito }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row text-center mt-3">
            <div class="col-6"><a href="{% url 'shopping:CLS' %}" class="btn btn-danger">Limpiar</a></div>
            <div class="col-6"><a href="{% url 'shopping:Caja' %}" id="btn-guardar" class="btn btn-success">Comprar</a></div>
        </div>
    </div>
    <script>
        const btnGuardar = document.querySelector('#btn-guardar');
        const carritoVacio = {% if not request.session.carrito %}true{% else %}false{% endif %};

        if (carritoVacio) {
            btnGuardar.classList.add('disabled');
            btnGuardar.addEventListener('click', (event) => {
                event.preventDefault();
            });
        }
    </script>

</div>